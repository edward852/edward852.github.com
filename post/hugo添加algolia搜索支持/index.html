<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Hugoæ·»åŠ Algoliaæœç´¢æ”¯æŒ - æ—¶è†å¿ƒè¯­</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="æ—¶è†å¿ƒè¯­" /><meta name="description" content="æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨ Hugo ä¸­æ·»åŠ  Algolia æœç´¢æ”¯æŒã€‚
ä¸»è¦ä»¥ Evenä¸»é¢˜ ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œä¸è¿‡ç†è®ºä¸Šåªéœ€è¦å°çš„è°ƒæ•´å³å¯é€‚ç”¨äºå…¶ä»–ä¸»é¢˜ã€‚
" /><meta name="keywords" content="edward852, hugo, blog" />






<meta name="generator" content="Hugo 0.80.0 with theme even" />


<link rel="canonical" href="https://edward852.github.io/post/hugo%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

<link href="/sass/main.min.e184957356f80479d91487165b1ca92ce1295cf008350e4ebbff07daafec3c5e.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Hugoæ·»åŠ Algoliaæœç´¢æ”¯æŒ" />
<meta property="og:description" content="æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨ Hugo ä¸­æ·»åŠ  Algolia æœç´¢æ”¯æŒã€‚
ä¸»è¦ä»¥ Evenä¸»é¢˜ ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œä¸è¿‡ç†è®ºä¸Šåªéœ€è¦å°çš„è°ƒæ•´å³å¯é€‚ç”¨äºå…¶ä»–ä¸»é¢˜ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://edward852.github.io/post/hugo%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81/" />
<meta property="article:published_time" content="2020-02-23T15:32:13+08:00" />
<meta property="article:modified_time" content="2021-03-19T15:32:13+08:00" />
<meta itemprop="name" content="Hugoæ·»åŠ Algoliaæœç´¢æ”¯æŒ">
<meta itemprop="description" content="æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨ Hugo ä¸­æ·»åŠ  Algolia æœç´¢æ”¯æŒã€‚
ä¸»è¦ä»¥ Evenä¸»é¢˜ ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œä¸è¿‡ç†è®ºä¸Šåªéœ€è¦å°çš„è°ƒæ•´å³å¯é€‚ç”¨äºå…¶ä»–ä¸»é¢˜ã€‚">
<meta itemprop="datePublished" content="2020-02-23T15:32:13+08:00" />
<meta itemprop="dateModified" content="2021-03-19T15:32:13+08:00" />
<meta itemprop="wordCount" content="2372">



<meta itemprop="keywords" content="Algolia,Searching,Hugo," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hugoæ·»åŠ Algoliaæœç´¢æ”¯æŒ"/>
<meta name="twitter:description" content="æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨ Hugo ä¸­æ·»åŠ  Algolia æœç´¢æ”¯æŒã€‚
ä¸»è¦ä»¥ Evenä¸»é¢˜ ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œä¸è¿‡ç†è®ºä¸Šåªéœ€è¦å°çš„è°ƒæ•´å³å¯é€‚ç”¨äºå…¶ä»–ä¸»é¢˜ã€‚"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">ã€ŒLã€</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><li style="display:inline-block;margin-right:10px;">
      <input type="search" class="mob-docsearch-input" placeholder="Search" />
    </li><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">ã€ŒLã€</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu"><li style="display:inline-block;margin-right:10px;">
      <input type="search" class="docsearch-input" placeholder="Search" />
    </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Hugoæ·»åŠ Algoliaæœç´¢æ”¯æŒ</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-02-23 </span>
        <div class="post-category">
            <a href="/categories/tutorial/"> tutorial </a>
            </div>
          <span class="more-meta"> çº¦ 2372 å­— </span>
          <span class="more-meta"> é¢„è®¡é˜…è¯» 5 åˆ†é’Ÿ </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> æ¬¡é˜…è¯» </span>
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">æ–‡ç« ç›®å½•</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#ç”Ÿæˆç´¢å¼•æ–‡ä»¶">ç”Ÿæˆç´¢å¼•æ–‡ä»¶</a>
      <ul>
        <li><a href="#algoliaåˆ›å»ºç©ºç´¢å¼•">Algoliaåˆ›å»ºç©ºç´¢å¼•</a></li>
        <li><a href="#hugoç”Ÿæˆç´¢å¼•æ–‡ä»¶">Hugoç”Ÿæˆç´¢å¼•æ–‡ä»¶</a></li>
      </ul>
    </li>
    <li><a href="#ä¸Šä¼ ç´¢å¼•æ–‡ä»¶">ä¸Šä¼ ç´¢å¼•æ–‡ä»¶</a>
      <ul>
        <li><a href="#æ‰‹åŠ¨ä¸Šä¼ ">æ‰‹åŠ¨ä¸Šä¼ </a></li>
        <li><a href="#è‡ªåŠ¨ä¸Šä¼ ">è‡ªåŠ¨ä¸Šä¼ </a></li>
      </ul>
    </li>
    <li><a href="#æ·»åŠ å‰ç«¯ui">æ·»åŠ å‰ç«¯UI</a>
      <ul>
        <li><a href="#é€‚é…pcç«¯">é€‚é…PCç«¯</a></li>
        <li><a href="#é€‚é…ç§»åŠ¨ç«¯-å¯é€‰">é€‚é…ç§»åŠ¨ç«¯ (å¯é€‰)</a></li>
      </ul>
    </li>
    <li><a href="#å…¶å®ƒä¸»é¢˜">å…¶å®ƒä¸»é¢˜</a></li>
    <li><a href="#è¡¥å……è¯´æ˜">è¡¥å……è¯´æ˜</a></li>
    <li><a href="#å‚è€ƒæ•™ç¨‹">å‚è€ƒæ•™ç¨‹</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨ <a href="https://gohugo.io">Hugo</a> ä¸­æ·»åŠ  <a href="https://www.algolia.com">Algolia</a> æœç´¢æ”¯æŒã€‚<br>
ä¸»è¦ä»¥ <a href="https://themes.gohugo.io/hugo-theme-even">Evenä¸»é¢˜</a> ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œä¸è¿‡ç†è®ºä¸Šåªéœ€è¦å°çš„è°ƒæ•´å³å¯é€‚ç”¨äºå…¶ä»–ä¸»é¢˜ã€‚</p>
<p>æ·»åŠ Algoliaæœç´¢æ”¯æŒä¸»è¦æœ‰3å¤§æ­¥éª¤ï¼š</p>
<ul>
<li>ç”Ÿæˆç´¢å¼•æ–‡ä»¶</li>
<li>ä¸Šä¼ ç´¢å¼•æ–‡ä»¶</li>
<li>æ·»åŠ å‰ç«¯UI</li>
</ul>
<p>ä¸‹é¢ä¼šè¯¦ç»†ä»‹ç»æ¯ä¸ªæ­¥éª¤çš„æ“ä½œï¼Œè€Œä¸”æ¯ä¸€æ­¥éƒ½å¯ä»¥é©¬ä¸Šçœ‹åˆ°æ•ˆæœï¼Œç¡®è®¤æ˜¯å¦æ“ä½œæ­£ç¡®ã€‚</p>
<h1 id="ç”Ÿæˆç´¢å¼•æ–‡ä»¶">ç”Ÿæˆç´¢å¼•æ–‡ä»¶</h1>
<h2 id="algoliaåˆ›å»ºç©ºç´¢å¼•">Algoliaåˆ›å»ºç©ºç´¢å¼•</h2>
<ul>
<li>åˆ›å»ºåº”ç”¨ï¼Œè‡ªå–åå­—(æ¯”å¦‚è¯´blog)<br>
<img src="https://i.loli.net/2020/02/23/FpQDbZuhBNn671q.png" alt=""></li>
<li>åˆ›å»ºç´¢å¼•ï¼Œè‡ªå–åå­—(æ¯”å¦‚è¯´blog)<br>
<img src="https://i.loli.net/2020/02/23/ubxvpWh8wXYnIKd.png" alt=""></li>
<li>ç‚¹å‡»ä¾§æ  <code>API Keys</code>ï¼Œè®°å½•ä¿¡æ¯(Application ID, Search-Only API Key, Admin API Key)<br>
<img src="https://i.loli.net/2020/02/23/RoMfLZOBc8Dv3Fr.png" alt=""></li>
</ul>
<h2 id="hugoç”Ÿæˆç´¢å¼•æ–‡ä»¶">Hugoç”Ÿæˆç´¢å¼•æ–‡ä»¶</h2>
<ul>
<li>
<p>ä¿®æ”¹ <code>config.toml</code> æ–‡ä»¶å£°æ˜éœ€è¦ç”ŸæˆAlgoliaç´¢å¼•æ–‡ä»¶ä»¥åŠç›¸å…³ä¿¡æ¯</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-toml" data-lang="toml"><span class="p">[</span><span class="nx">outputs</span><span class="p">]</span>
    <span class="nx">home</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;HTML&#34;</span><span class="p">,</span> <span class="s2">&#34;RSS&#34;</span><span class="p">,</span> <span class="s2">&#34;Algolia&#34;</span><span class="p">]</span>
  
<span class="p">...</span><span class="nx">ä¸­é—´çœç•¥</span>

<span class="p">[</span><span class="nx">outputFormats</span><span class="p">.</span><span class="nx">Algolia</span><span class="p">]</span>
  <span class="nx">baseName</span> <span class="p">=</span> <span class="s2">&#34;algolia&#34;</span>
  <span class="nx">isPlainText</span> <span class="p">=</span> <span class="kc">true</span>
  <span class="nx">mediaType</span> <span class="p">=</span> <span class="s2">&#34;application/json&#34;</span>
  <span class="nx">notAlternative</span> <span class="p">=</span> <span class="kc">true</span>
  
<span class="p">[</span><span class="nx">params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">]</span>
  <span class="nx">appId</span> <span class="p">=</span> <span class="s2">&#34;ä½ çš„Application ID&#34;</span>
  <span class="nx">indexName</span> <span class="p">=</span> <span class="s2">&#34;ä½ çš„ç´¢å¼•åå­—&#34;</span>
  <span class="nx">searchOnlyKey</span> <span class="p">=</span> <span class="s2">&#34;ä½ çš„Search-Only API Key&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„outputsä¸‹é¢homeçš„æœ«å°¾æœ‰<code>&quot;Algolia&quot;</code>ï¼Œæ¼äº†å°±ä¸ä¼šç”Ÿæˆäº†ã€‚<br>
<code>appId</code>, <code>indexName</code>, <code>searchOnlyKey</code> å¡«å†™åˆšæ‰è®°å½•çš„Algoliaä¿¡æ¯ã€‚</p>
</li>
<li>
<p>æ ¹ç›®å½•ä¸‹ <code>layouts/_default</code> (æ²¡æœ‰å°±æ–°å»º) æ–‡ä»¶å¤¹ä¸­æ–°å»º <code>list.algolia.json</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="p">{{</span><span class="cm">/* ç”ŸæˆAlgoliaæœç´¢ç´¢å¼•æ–‡ä»¶ */</span><span class="p">}}</span>
<span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="p">.</span><span class="nx">Scratch</span><span class="p">.</span><span class="nx">Add</span> <span class="s">&#34;index&#34;</span> <span class="nx">slice</span> <span class="o">-</span><span class="p">}}</span>
<span class="p">{{</span><span class="cm">/* content/postsæˆ–content/postç›®å½•ä¸‹çš„åšæ–‡æ‰ç”Ÿæˆç´¢å¼• */</span><span class="p">}}</span>
<span class="p">{{</span><span class="o">-</span> <span class="k">range</span> <span class="nf">where</span> <span class="p">(</span><span class="nx">where</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Pages</span> <span class="s">&#34;Type&#34;</span> <span class="s">&#34;in&#34;</span> <span class="p">(</span><span class="nx">slice</span> <span class="s">&#34;posts&#34;</span> <span class="s">&#34;post&#34;</span><span class="p">))</span> <span class="s">&#34;IsPage&#34;</span> <span class="kc">true</span> <span class="o">-</span><span class="p">}}</span>
  <span class="p">{{</span><span class="o">-</span> <span class="k">if</span> <span class="nf">and</span> <span class="p">(</span><span class="nx">not</span> <span class="p">.</span><span class="nx">Draft</span><span class="p">)</span> <span class="p">(</span><span class="nx">not</span> <span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">private</span><span class="p">)</span> <span class="o">-</span><span class="p">}}</span>
    <span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="p">.</span><span class="nx">Scratch</span><span class="p">.</span><span class="nx">Add</span> <span class="s">&#34;index&#34;</span> <span class="p">(</span><span class="nx">dict</span> <span class="s">&#34;objectID&#34;</span> <span class="p">.</span><span class="nx">File</span><span class="p">.</span><span class="nx">UniqueID</span> <span class="s">&#34;url&#34;</span> <span class="p">.</span><span class="nx">Permalink</span> <span class="s">&#34;content&#34;</span> <span class="p">(.</span><span class="nx">Summary</span> <span class="p">|</span> <span class="nx">plainify</span><span class="p">)</span> <span class="s">&#34;tags&#34;</span> <span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">Tags</span> <span class="s">&#34;lvl0&#34;</span> <span class="p">.</span><span class="nx">Title</span> <span class="s">&#34;lvl1&#34;</span> <span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">Categories</span> <span class="s">&#34;lvl2&#34;</span> <span class="s">&#34;æ‘˜è¦&#34;</span><span class="p">)</span> <span class="o">-</span><span class="p">}}</span>
  <span class="p">{{</span><span class="o">-</span> <span class="nx">end</span> <span class="o">-</span><span class="p">}}</span>
<span class="p">{{</span><span class="o">-</span> <span class="nx">end</span> <span class="o">-</span><span class="p">}}</span>
<span class="p">{{</span><span class="o">-</span> <span class="err">$</span><span class="p">.</span><span class="nx">Scratch</span><span class="p">.</span><span class="nx">Get</span> <span class="s">&#34;index&#34;</span> <span class="p">|</span> <span class="nx">jsonify</span> <span class="o">-</span><span class="p">}}</span>
</code></pre></td></tr></table>
</div>
</div><p>å¦‚æœä½ çš„åšæ–‡æ²¡æœ‰categoriesï¼Œé‚£ä¹ˆ <code>&quot;lvl1&quot;</code> åé¢çš„ <code>.Params.Categories</code> å¯ä»¥æ¢æˆå…¶ä»–å†…å®¹ã€‚<br>
æœç´¢æ–‡ç« å†…å®¹<code>&quot;content&quot;</code>åé¢æ”¹ç”¨å˜é‡<code>.Plain</code>ã€‚å…è´¹ç‰ˆalgoliaè®°å½•å¤§å°æœ‰é™åˆ¶ï¼Œä¸æ¨èè¿™ä¹ˆåšã€‚</p>
</li>
<li>
<p>æ‰§è¡Œ <code>hugo</code> å‘½ä»¤(ä¸ç”¨å¸¦å‚æ•°)ä¹‹åï¼Œåœ¨ <code>public</code> ç›®å½•ä¸‹å°±ä¼šç”Ÿæˆ <code>algolia.json</code> æ–‡ä»¶</p>
</li>
</ul>
<p>è‡³æ­¤ï¼Œå¦‚æœç”Ÿæˆäº† <code>algolia.json</code> æ–‡ä»¶ä¸”å†…å®¹æ­£å¸¸ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥ã€‚<br>
å¦‚æœæœ‰é—®é¢˜ï¼Œå¯ä»¥å›å¤´å†ä»”ç»†çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆåœ°æ–¹æ¼äº†ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåé¦ˆé—®é¢˜ã€‚</p>
<h1 id="ä¸Šä¼ ç´¢å¼•æ–‡ä»¶">ä¸Šä¼ ç´¢å¼•æ–‡ä»¶</h1>
<p>ç”Ÿæˆç´¢å¼•æ–‡ä»¶ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ä¸Šä¼ åˆ°Algoliaçš„æœåŠ¡å™¨ã€‚</p>
<h2 id="æ‰‹åŠ¨ä¸Šä¼ ">æ‰‹åŠ¨ä¸Šä¼ </h2>
<p>è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ï¼Œä¸è¿‡è¿˜æ˜¯å»ºè®®è·Ÿç€åšä¸€ä¸‹ã€‚<br>
ç‚¹å‡»ä¾§æ  <code>Indices</code> ï¼Œç‚¹å‡» <code>Upload record(s)</code> æŒ‰é’®ä¸Šä¼ ä¸Šä¸€æ­¥ç”Ÿæˆçš„ <code>algolia.json</code> æ–‡ä»¶ã€‚<br>
<img src="https://i.loli.net/2020/02/23/ywmXf1G9idcrTK3.png" alt=""><br>
<img src="https://i.loli.net/2020/02/23/jeihUXDxBuwmpf9.png" alt=""></p>
<p>ä¸Šä¼ æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é©¬ä¸Šå°è¯•æœç´¢äº†ï¼š
<img src="https://i.loli.net/2020/02/23/yGsPjqCQBeZVA8U.png" alt=""></p>
<p>å¯ä»¥çœ‹åˆ°æœç´¢çš„å…³é”®è¯æœ‰ç›¸åº”çš„åŒ¹é…ç»“æœï¼Œè¯´æ˜æˆ‘ä»¬ç”Ÿæˆçš„ç´¢å¼•æ–‡ä»¶æ˜¯æ­£ç¡®çš„ã€‚</p>
<h2 id="è‡ªåŠ¨ä¸Šä¼ ">è‡ªåŠ¨ä¸Šä¼ </h2>
<p>æ¯æ¬¡å†™å®Œåšæ–‡éƒ½æ‰‹åŠ¨ä¸Šä¼ ç´¢å¼•æ–‡ä»¶æ— ç–‘æ˜¯ç—›è‹¦çš„ã€æ— æ„ä¹‰çš„é‡å¤åŠ³åŠ¨ã€‚<br>
å› æ­¤æˆ‘ä»¬éœ€è¦æŠŠä¸Šä¼ ç´¢å¼•æ–‡ä»¶çš„æ“ä½œè‡ªåŠ¨åŒ–ï¼Œåœ¨è‡ªåŠ¨éƒ¨ç½²çš„æ—¶å€™é¡ºä¾¿å®Œæˆå³å¯ã€‚<br>
è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨npmåŒ… <a href="https://www.npmjs.com/package/atomic-algolia">atomic-algolia</a> æ¥å®Œæˆä¸Šä¼ æ“ä½œã€‚</p>
<ul>
<li>
<p>å®‰è£… atomic-algolia åŒ…</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">npm init  // ä¸æ‡‚çš„å°±å›è½¦å¥½äº†
npm install atomic-algolia --save
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ä¿®æ”¹ç›®å½•ä¸‹çš„ <code>package.json</code> æ–‡ä»¶ï¼Œåœ¨ <code>scripts</code> ä¸‹æ·»åŠ  <code>&quot;algolia&quot;: &quot;atomic-algolia&quot;</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;scripts&#34;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span><span class="p">,</span>
    <span class="nt">&#34;algolia&#34;</span><span class="p">:</span> <span class="s2">&#34;atomic-algolia&#34;</span>
<span class="p">}</span><span class="err">,</span>
</code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ <code>&quot;test&quot;</code> é‚£ä¸€è¡Œæœ«å°¾æœ‰ä¸ªè‹±æ–‡é€—å·ï¼Œä¸è¦æ¼äº†ã€‚</p>
</li>
<li>
<p>æ ¹ç›®å½•ä¸‹æ–°å»º <code>.env</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">ALGOLIA_APP_ID=ä½ çš„Application ID
ALGOLIA_INDEX_NAME=ä½ çš„ç´¢å¼•åå­—
ALGOLIA_INDEX_FILE=public/algolia.json
ALGOLIA_ADMIN_KEY=ä½ çš„Admin API Key
</code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„æ›¿æ¢ä½ è‡ªå·±Algoliaç´¢å¼•çš„ä¿¡æ¯ã€‚<br>
å¦å¤–ç‰¹åˆ«æ³¨æ„ <code>ALGOLIA_ADMIN_KEY</code> å¯ä»¥ç”¨æ¥ç®¡ç†ä½ çš„ç´¢å¼•ï¼Œæ‰€ä»¥å°½é‡ä¸è¦æäº¤åˆ°å…¬å…±ä»“åº“ã€‚<br>
ä¸€èˆ¬çš„åšæ³•æ˜¯åœ¨ä½ çš„è‡ªåŠ¨åŒ–éƒ¨ç½²å·¥å…·ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæ¯”å¦‚è¯´æœ¬ç«™å°±æ˜¯åœ¨ <a href="https://travis-ci.org">Travis CI</a> ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ã€‚</p>
</li>
<li>
<p>ä¸Šä¼ ç´¢å¼•çš„å‘½ä»¤<br>
ä½ å¯ä»¥æœ¬åœ°æ‰§è¡Œ <code>npm run algolia</code> æŸ¥çœ‹è¿è¡Œæ•ˆæœï¼š<br>
<img src="https://i.loli.net/2020/02/23/C6u38blAWG7Xnke.png" alt=""><br>
å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸæ·»åŠ äº†è®°å½•ã€‚<br>
åç»­å°±æ˜¯æŠŠä¸‹é¢çš„å‘½ä»¤åŠ åˆ°ä½ çš„éƒ¨ç½²è„šæœ¬å³å¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">npm install
npm run algolia // åœ¨hugoå‘½ä»¤åé¢æ‰§è¡Œ
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>è‡³æ­¤ï¼Œå¦‚æœä½ è¿è¡Œ <code>npm run algolia</code> æ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œå°±å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥äº†ã€‚<br>
åŒæ ·çš„ï¼Œå¦‚æœæœ‰é—®é¢˜æ¬¢è¿åœ¨ä¸‹é¢ç•™è¨€ã€‚</p>
<h1 id="æ·»åŠ å‰ç«¯ui">æ·»åŠ å‰ç«¯UI</h1>
<p>å‰©ä¸‹çš„å·¥ä½œå°±æ˜¯æ·»åŠ æœç´¢æ¡†äº†ï¼Œè¿™ä¸€æ­¥æ˜¯è·Ÿä¸»é¢˜ç›¸å…³çš„ï¼Œä¸è¿‡å…¶ä»–ä¸»é¢˜åº”è¯¥åªéœ€è¦å°çš„è°ƒæ•´å°±å¯ä»¥äº†ã€‚</p>
<h2 id="é€‚é…pcç«¯">é€‚é…PCç«¯</h2>
<ul>
<li>
<p>å¼•å…¥CSSæ–‡ä»¶<br>
åœ¨ä¸»é¢˜ <code>layouts/partials</code> ç›®å½•ä¸‹çš„ <code>head.html</code> ä¸­å¼•å…¥docsearchçš„CSSæ–‡ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="p">{{</span><span class="o">-</span> <span class="k">if</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">appId</span> <span class="o">-</span><span class="p">}}</span>
<span class="p">&lt;</span><span class="nx">link</span> <span class="nx">rel</span><span class="p">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="nx">href</span><span class="p">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css&#34;</span> <span class="o">/</span><span class="p">&gt;</span>
<span class="p">{{</span><span class="o">-</span> <span class="nx">end</span> <span class="o">-</span><span class="p">}}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>å¼•å…¥JSæ–‡ä»¶å¹¶åˆå§‹åŒ–<br>
åœ¨ä¸»é¢˜ <code>layouts/partials</code> ç›®å½•ä¸‹çš„ <code>scripts.html</code> ä¸­å¼•å…¥docsearchçš„JSæ–‡ä»¶å¹¶åˆå§‹åŒ–</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="p">{{</span><span class="o">-</span> <span class="k">if</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">appId</span> <span class="o">-</span><span class="p">}}</span>
<span class="p">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="p">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js&#34;</span><span class="p">&gt;&lt;</span><span class="o">/</span><span class="nx">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nx">script</span><span class="p">&gt;</span>
<span class="nf">docsearch</span><span class="p">({</span>
    <span class="nx">apiKey</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">searchOnlyKey</span> <span class="p">}},</span>
    <span class="nx">indexName</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">indexName</span> <span class="p">}},</span>
    <span class="nx">appId</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">appId</span> <span class="p">}},</span>
    <span class="nx">inputSelector</span><span class="p">:</span> <span class="err">&#39;</span><span class="p">.</span><span class="nx">docsearch</span><span class="o">-</span><span class="nx">input</span><span class="err">&#39;</span><span class="p">,</span>
    <span class="nx">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="p">});</span>
<span class="p">&lt;</span><span class="o">/</span><span class="nx">script</span><span class="p">&gt;</span>
<span class="p">{{</span><span class="o">-</span> <span class="nx">end</span> <span class="o">-</span><span class="p">}}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æ·»åŠ æœç´¢æ¡†å…¥å£<br>
åœ¨ä¸»é¢˜ <code>layouts/partials</code> ç›®å½•ä¸‹çš„ <code>header.html</code> ä¸­å¯¼èˆªæ åˆé€‚çš„ä½ç½®æ·»åŠ æœç´¢æ¡†</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="p">{{</span><span class="o">-</span> <span class="k">if</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">appId</span> <span class="o">-</span><span class="p">}}</span>
  <span class="p">&lt;</span><span class="nx">li</span> <span class="nx">style</span><span class="p">=</span><span class="s">&#34;display:inline-block;margin-right:10px;&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nx">input</span> <span class="kd">type</span><span class="p">=</span><span class="s">&#34;search&#34;</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;docsearch-input&#34;</span> <span class="nx">placeholder</span><span class="p">=</span><span class="s">&#34;Search&#34;</span> <span class="o">/</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="o">/</span><span class="nx">li</span><span class="p">&gt;</span>
<span class="p">{{</span><span class="o">-</span> <span class="nx">end</span> <span class="o">-</span><span class="p">}}</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¸»è¦æ˜¯æ·»åŠ  <code>&lt;input&gt;</code> å…ƒç´ ï¼Œ<code>&lt;li&gt;</code> å…ƒç´ æ ¹æ®å„è‡ªä¸»é¢˜çš„æƒ…å†µç¡®å®šæ˜¯å¦æ·»åŠ ã€‚<br>
å¦å¤–æ³¨æ„å¤–å±‚å¦‚æœæœ‰ <code>overflow:hidden</code> çš„CSSæ ·å¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœç´¢ç»“æœæ¡†æ˜¾ç¤ºä¸äº†ã€‚ğŸ˜…</p>
</li>
</ul>
<h2 id="é€‚é…ç§»åŠ¨ç«¯-å¯é€‰">é€‚é…ç§»åŠ¨ç«¯ (å¯é€‰)</h2>
<ul>
<li>
<p>å¼•å…¥CSSæ–‡ä»¶<br>
docsearchçš„CSSæ–‡ä»¶PCç«¯é‚£é‡Œå¼•å…¥äº†å°±å¯ä»¥ï¼Œæ³¨æ„åŠ åœ¨main.scssä¹‹å‰ã€‚<br>
å¦å¤–æ”¹åŠ¨<code>assets/sass/_partial/_slideout.scss</code>æ–‡ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="p">.</span><span class="nc">slideout-menu</span> <span class="p">{</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
    <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">180</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">min-height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
    <span class="k">overflow</span><span class="p">:</span> <span class="kc">visible</span><span class="p">;</span>                   <span class="err">//</span> <span class="err">è¿™é‡Œæ”¹ä¸ºvisible</span>
    <span class="kp">-webkit-</span><span class="n">overflow-scrolling</span><span class="p">:</span> <span class="n">touch</span><span class="p">;</span>
    <span class="k">z-index</span><span class="p">:</span> <span class="mi">2</span><span class="p">;</span>                          <span class="err">//</span> <span class="err">è¿™é‡Œæ”¹ä¸º2</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
    <span class="err">.language-selector</span> <span class="err">{</span>
      <span class="k">padding-left</span><span class="p">:</span> <span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
    <span class="p">}</span>
<span class="err">}</span>

<span class="o">//</span> <span class="nt">è¿™é‡Œæ–°å¢</span>
<span class="p">@</span><span class="k">media</span> <span class="nt">screen</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">500px</span><span class="o">)</span> <span class="p">{</span>
    <span class="p">.</span><span class="nc">algolia-autocomplete</span> <span class="p">.</span><span class="nc">ds-dropdown-menu</span> <span class="p">{</span>
        <span class="k">min-width</span><span class="p">:</span> <span class="mi">99</span><span class="kt">vw</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>å¼•å…¥JSæ–‡ä»¶å¹¶åˆå§‹åŒ–<br>
åŠ å…¥åˆ°PCç«¯çš„æ”¹åŠ¨å°±å¯ä»¥äº†ï¼Œæ³¨æ„<code>inputSelector</code>æ˜¯<code>.mob-docsearch-input</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="p">{{</span><span class="o">-</span> <span class="k">if</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">appId</span> <span class="o">-</span><span class="p">}}</span>
<span class="p">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="p">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js&#34;</span><span class="p">&gt;&lt;</span><span class="o">/</span><span class="nx">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nx">script</span><span class="p">&gt;</span>
<span class="nf">docsearch</span><span class="p">({</span>
    <span class="nx">apiKey</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">searchOnlyKey</span> <span class="p">}},</span>
    <span class="nx">indexName</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">indexName</span> <span class="p">}},</span>
    <span class="nx">appId</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">appId</span> <span class="p">}},</span>
    <span class="nx">inputSelector</span><span class="p">:</span> <span class="err">&#39;</span><span class="p">.</span><span class="nx">docsearch</span><span class="o">-</span><span class="nx">input</span><span class="err">&#39;</span><span class="p">,</span>
    <span class="nx">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="p">});</span>
<span class="nf">docsearch</span><span class="p">({</span>
    <span class="nx">apiKey</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">searchOnlyKey</span> <span class="p">}},</span>
    <span class="nx">indexName</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">indexName</span> <span class="p">}},</span>
    <span class="nx">appId</span><span class="p">:</span> <span class="p">{{</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">appId</span> <span class="p">}},</span>
    <span class="nx">inputSelector</span><span class="p">:</span> <span class="err">&#39;</span><span class="p">.</span><span class="nx">mob</span><span class="o">-</span><span class="nx">docsearch</span><span class="o">-</span><span class="nx">input</span><span class="err">&#39;</span><span class="p">,</span>
    <span class="nx">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="p">});</span>
<span class="p">&lt;</span><span class="o">/</span><span class="nx">script</span><span class="p">&gt;</span>
<span class="p">{{</span><span class="o">-</span> <span class="nx">end</span> <span class="o">-</span><span class="p">}}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æ·»åŠ æœç´¢æ¡†å…¥å£<br>
åœ¨<code>layouts/partials/slideout.html</code>åŠ å…¥æœç´¢æ¡†ï¼Œæ³¨æ„classæ˜¯<code>mob-docsearch-input</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="p">{{</span><span class="o">-</span> <span class="k">if</span> <span class="p">.</span><span class="nx">Site</span><span class="p">.</span><span class="nx">Params</span><span class="p">.</span><span class="nx">algolia</span><span class="p">.</span><span class="nx">appId</span> <span class="o">-</span><span class="p">}}</span>
    <span class="p">&lt;</span><span class="nx">li</span> <span class="nx">style</span><span class="p">=</span><span class="s">&#34;display:inline-block;margin-right:10px;&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nx">input</span> <span class="kd">type</span><span class="p">=</span><span class="s">&#34;search&#34;</span> <span class="nx">class</span><span class="p">=</span><span class="s">&#34;mob-docsearch-input&#34;</span> <span class="nx">placeholder</span><span class="p">=</span><span class="s">&#34;Search&#34;</span> <span class="o">/</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="o">/</span><span class="nx">li</span><span class="p">&gt;</span>
<span class="p">{{</span><span class="o">-</span> <span class="nx">end</span> <span class="o">-</span><span class="p">}}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>ä½ ä½¿ç”¨çš„ä¸»é¢˜ä¸ä¸€å®šæœ‰ä¸Šé¢çš„ <code>head.html</code>, <code>scripts.html</code>, <code>header.html</code> æ–‡ä»¶ã€‚<br>
ä¸è¿‡æ²¡å…³ç³»ï¼Œä¸»é¢˜å¸ƒå±€æ˜¯ç±»ä¼¼çš„ï¼Œè‚¯å®šå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶(å¯èƒ½åˆ†æ•£åœ¨2ä¸ªæ–‡ä»¶ï¼Œç”šè‡³åœ¨åŒä¸€ä¸ªæ–‡ä»¶)ã€‚<br>
å¦‚æœå®åœ¨æ‰¾ä¸åˆ°ï¼Œå¯ä»¥åœ¨ä¸‹é¢ç•™è¨€å…·ä½“çš„Hugoä¸»é¢˜ï¼Œæˆ‘åé¢æœ‰ç©ºå¯ä»¥å¸®å¿™æ‰¾ä¸‹ã€‚</p>
<p>å¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œå®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼Œåƒå‘¼ä¸‡å”¤çš„Algoliaæœç´¢æ¥äº†ï¼ğŸ‘ ğŸ‘ ğŸ‘<br>
<img src="https://i.loli.net/2020/02/23/QVpFEs7Bg8PZYic.gif" alt=""></p>
<h1 id="å…¶å®ƒä¸»é¢˜">å…¶å®ƒä¸»é¢˜</h1>
<ul>
<li>maupassant<br>
æ”¹åŠ¨<code>layouts/partials/footer.html</code>æ–‡ä»¶ã€‚</li>
</ul>
<h1 id="è¡¥å……è¯´æ˜">è¡¥å……è¯´æ˜</h1>
<p>å…¶å®æ·»åŠ å‰ç«¯UIä¹Ÿå¯ä»¥é€šè¿‡Algoliaçš„ <a href="https://github.com/algolia/autocomplete.js">autocomplete.js</a> ï¼Œå®šåˆ¶æ€§æ›´å¼ºï¼Œé€‚åˆå‰ç«¯é«˜æ‰‹ä½¿ç”¨ã€‚</p>
<h1 id="å‚è€ƒæ•™ç¨‹">å‚è€ƒæ•™ç¨‹</h1>
<ul>
<li><a href="https://10101.io/2018/11/23/search-with-algolia-in-hugo">é‡‡ç”¨ Algolia ä½œä¸º Hugo æœç´¢æ–¹æ¡ˆ</a></li>
<li><a href="https://code.luasoftware.com/tutorials/algolia/add-algolia-search-to-hugo-static-website/">Add Algolia Search To Hugo Static Website</a></li>
<li><a href="https://forestry.io/blog/search-with-algolia-in-hugo/">Static site search with Hugo + Algolia</a></li>
<li><a href="https://snipcart.com/blog/static-site-search">Static Site Search Made Easy (with Hugo Tutorial)</a></li>
</ul>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">æ–‡ç« ä½œè€…</span>
    <span class="item-content">æ—¶è†å¿ƒè¯­</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">ä¸Šæ¬¡æ›´æ–°</span>
    <span class="item-content">
        2021-03-19
        
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">è®¸å¯åè®®</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">èµèµæ”¯æŒ</label>
  <div class="qr-code">
    
    <label class="qr-code-image" for="reward">
        <img class="image" src="/images/qrcode.png">
        <span>å¾®ä¿¡æ‰“èµ</span>
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="/images/qrcode.png">
        <span>æ”¯ä»˜å®æ‰“èµ</span>
      </label>
  </div>
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/algolia/">Algolia</a>
          <a href="/tags/searching/">Searching</a>
          <a href="/tags/hugo/">Hugo</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85emacs/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">CentOS 8ç¼–è¯‘å®‰è£…emacs 26.3</span>
            <span class="prev-text nav-mobile">ä¸Šä¸€ç¯‡</span>
          </a>
        <a class="next" href="/post/markdown%E6%94%AF%E6%8C%81%E6%83%85%E5%86%B5%E6%B5%8B%E8%AF%95/">
            <span class="next-text nav-default">Hugoå¯¹Markdownæ”¯æŒæƒ…å†µæµ‹è¯•</span>
            <span class="next-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  
    <script src="https://utteranc.es/client.js"
            repo="edward852/blog-skeleton-v3"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:edward852@163.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/edward852" class="iconfont icon-github" title="github"></a>
  <a href="https://edward852.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    ç”± <a class="hexo-link" href="https://gohugo.io">Hugo</a> å¼ºåŠ›é©±åŠ¨
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    ä¸»é¢˜ - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> æ¬¡ </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> æœ¬ç«™æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> äºº </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2011 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>æ—¶è†å¿ƒè¯­</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-158726365-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>





<script src="/js/iframeResizer.contentWindow.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script>
   docsearch({
       apiKey: "f0ec02ae89536c4ed404b8c52ca8e11b",
       indexName: "blog",
       appId: "Q02X4MC3P9",
       inputSelector: '.docsearch-input',
       debug: false,
   });
   docsearch({
       apiKey: "f0ec02ae89536c4ed404b8c52ca8e11b",
       indexName: "blog",
       appId: "Q02X4MC3P9",
       inputSelector: '.mob-docsearch-input',
       debug: false,
   });
  </script>
</body>
</html>
